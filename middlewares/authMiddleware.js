// ЁЯФР Middleware р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕лр╕гр╕╖р╕нр╕вр╕▒р╕З
exports.isAuthenticated = (req, res, next) => {
  // тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡ session р╣Бр╕ер╕░р╕бр╕╡ userId р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
  if (!req.session || !req.session.userId) {
    // тЭМ р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щ р╕кр╣Ир╕Зр╕кр╕Цр╕▓р╕Щр╕░ 401 (Unauthorized)
    return res.status(401).json({ message: "р╕Др╕╕р╕Ур╕Хр╣Йр╕нр╕Зр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Бр╣Ир╕нр╕Щ" });
  }

  // тЬЕ р╕Ьр╣Ир╕▓р╕Щр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ р╣Гр╕лр╣Йр╣Др╕Ыр╕вр╕▒р╕З middleware р╕лр╕гр╕╖р╕н route р╕Цр╕▒р╕Фр╣Др╕Ы
  next();
};
